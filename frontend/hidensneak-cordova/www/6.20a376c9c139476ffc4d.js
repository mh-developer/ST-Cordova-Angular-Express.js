(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{KFjf:function(t,e,o){"use strict";o.r(e),o.d(e,"LocationsModule",function(){return O});var n=o("ofXK"),i=o("fXoL"),c=o("lJxs"),r=o("ajia");let a=(()=>{class t{constructor(t){this.apiService=t}getAll(){return this.apiService.get("/locations").pipe(Object(c.a)(t=>t))}get(t){return this.apiService.get(`/locations/${t}`).pipe(Object(c.a)(t=>t))}post(t){return this.apiService.post("/locations",t).pipe(Object(c.a)(t=>t))}put(t,e){return this.apiService.put(`/locations/${t}`,e).pipe(Object(c.a)(t=>t))}delete(t){return this.apiService.delete(`/locations/${t}`).pipe(Object(c.a)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.a))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=o("tyNb"),b=o("3Pt+");let s=(()=>{class t{constructor(t,e){this.locationsService=t,this.router=e,this.location={}}add(){this.location.timestamp=`${(new Date).getTime()}`,this.locationsService.post(this.location).subscribe(t=>{this.router.navigateByUrl("/locations",{replaceUrl:!0})},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(a),i.Kb(l.b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-locations-add"]],decls:20,vars:3,consts:[[1,"container"],[1,"my-3","p-3","bg-white","rounded","box-shadow"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"media","text-muted","pt-3"],[1,"media-body","pb-3","mb-0","small","lh-125","border-bottom","border-gray"],[1,"form-group"],["type","number","placeholder","User id (example: 3)","name","userId","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Longitude (example: 163.4972)","name","longitude","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Latitude (example: -88.9289)","name","latitude","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Pb(2,"h6",2),i.vc(3,"Add location"),i.Ob(),i.Pb(4,"div",3),i.Pb(5,"form",4),i.Pb(6,"div",5),i.Pb(7,"label"),i.vc(8,"User"),i.Ob(),i.Pb(9,"input",6),i.Zb("ngModelChange",function(t){return e.location.userId=t}),i.Ob(),i.Ob(),i.Pb(10,"div",5),i.Pb(11,"label"),i.vc(12,"Longitude"),i.Ob(),i.Pb(13,"input",7),i.Zb("ngModelChange",function(t){return e.location.longitude=t}),i.Ob(),i.Ob(),i.Pb(14,"div",5),i.Pb(15,"label"),i.vc(16,"Latitude"),i.Ob(),i.Pb(17,"input",8),i.Zb("ngModelChange",function(t){return e.location.latitude=t}),i.Ob(),i.Ob(),i.Pb(18,"button",9),i.Zb("click",function(){return e.add()}),i.vc(19," Add "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t&&(i.yb(9),i.gc("ngModel",e.location.userId),i.yb(4),i.gc("ngModel",e.location.longitude),i.yb(4),i.gc("ngModel",e.location.latitude))},directives:[b.m,b.f,b.g,b.j,b.a,b.l,b.e,b.h],styles:[""]}),t})();var d=o("mrSG");let u=(()=>{class t{constructor(t,e,o){this.locationsService=t,this.route=e,this.router=o}ngOnInit(){this.route.params.subscribe(t=>{const{id:e}=t;e?this.location=this.locationsService.get(e):this.router.navigateByUrl("/locations",{replaceUrl:!0})})}delete(){return Object(d.a)(this,void 0,void 0,function*(){this.locationsService.delete((yield this.location.toPromise()).id).subscribe(t=>{this.router.navigateByUrl("/locations",{replaceUrl:!0})},t=>{console.log(t)})})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(a),i.Kb(l.a),i.Kb(l.b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-locations-details"]],decls:18,vars:11,consts:[[1,"container"],[1,"my-3","p-3","bg-white","rounded","box-shadow"],[1,"border-bottom","border-gray","pb-2","mb-0"],[1,"media","text-muted","pt-3"],[1,"mr-2","rounded"],[1,"media-body","pb-3","mb-0","small","lh-125","border-bottom","border-gray"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"text-gray-dark"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"d-block"]],template:function(t,e){if(1&t&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Pb(2,"h6",2),i.vc(3,"Location details"),i.Ob(),i.Pb(4,"div",3),i.Lb(5,"span",4),i.Pb(6,"div",5),i.Pb(7,"div",6),i.Pb(8,"strong",7),i.vc(9),i.cc(10,"async"),i.cc(11,"async"),i.Ob(),i.Pb(12,"button",8),i.Zb("click",function(){return e.delete()}),i.vc(13," Delete "),i.Ob(),i.Ob(),i.Pb(14,"span",9),i.vc(15),i.cc(16,"date"),i.cc(17,"async"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t){let t=null,o=null;i.yb(9),i.yc(" ",null==(t=i.dc(10,3,e.location))?null:t.longitude," ",null==(t=i.dc(11,5,e.location))?null:t.latitude," "),i.yb(6),i.xc(" @",i.dc(16,7,null==(o=i.dc(17,9,e.location))?null:o.timestamp)," ")}},pipes:[n.b,n.e],styles:[""]}),t})();var p=o("LRne");const m=function(t){return["/locations",t]};function g(t,e){if(1&t&&(i.Pb(0,"div",6),i.Lb(1,"span",7),i.Pb(2,"div",8),i.Pb(3,"div",2),i.Pb(4,"strong",9),i.vc(5),i.Ob(),i.Pb(6,"a",4),i.vc(7,"Details"),i.Ob(),i.Ob(),i.Pb(8,"span",10),i.vc(9),i.cc(10,"date"),i.Ob(),i.Ob(),i.Ob()),2&t){const t=e.$implicit;i.yb(5),i.yc(" ",null==t?null:t.longitude," ",null==t?null:t.latitude," "),i.yb(1),i.gc("routerLink",i.kc(6,m,t.id)),i.yb(3),i.xc("@",i.dc(10,4,null==t?null:t.timestamp),"")}}const v=function(){return["/locations/add"]},h=[{path:"locations",component:(()=>{class t{constructor(t){this.locationsService=t,this.locations=Object(p.a)([])}ngOnInit(){this.locations=this.locationsService.getAll()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(a))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-locations-list"]],decls:10,vars:5,consts:[["role","main",1,"container"],[1,"my-3","p-3","bg-white","rounded","box-shadow"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"border-bottom","border-gray","pb-2","mb-0"],[3,"routerLink"],["class","media text-muted pt-3",4,"ngFor","ngForOf"],[1,"media","text-muted","pt-3"],[1,"mr-2","rounded"],[1,"media-body","pb-3","mb-0","small","lh-125","border-bottom","border-gray"],[1,"text-gray-dark"],[1,"d-block"]],template:function(t,e){1&t&&(i.Pb(0,"main",0),i.Pb(1,"div",1),i.Pb(2,"div",2),i.Pb(3,"h6",3),i.vc(4,"Locations"),i.Ob(),i.Pb(5,"small"),i.Pb(6,"a",4),i.vc(7,"+ Add"),i.Ob(),i.Ob(),i.Ob(),i.tc(8,g,11,8,"div",5),i.cc(9,"async"),i.Ob(),i.Ob()),2&t&&(i.yb(6),i.gc("routerLink",i.jc(4,v)),i.yb(2),i.gc("ngForOf",i.dc(9,2,e.locations)))},directives:[l.e,n.k],pipes:[n.b,n.e],styles:[""]}),t})()},{path:"locations/add",component:s},{path:"locations/:id",component:u}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[l.f.forChild(h)],l.f]}),t})();var f=o("PCNd");let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({imports:[[n.c,y,f.a]]}),t})()}}]);